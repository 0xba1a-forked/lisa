<TestCases>
    <test>
        <testName>VERIFY-SRIOV-LSPCI</testName>
        <setupType>SingleVM</setupType>
        <OverrideVMSize>Standard_D15_v2</OverrideVMSize>
        <AdditionalHWConfig>
            <Networking>SRIOV</Networking>
        </AdditionalHWConfig>
        <testScript>sriov-lspci.sh</testScript>
        <files>.\Testscripts\Linux\sriov-lspci.sh,.\TestScripts\Linux\utils.sh</files>
        <TestParameters>
            <param>TC_COVERED=Functional_SRIOV_LSPCI</param>
        </TestParameters>   
        <Platform>Azure</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,hv_netvsc</Tags>
    </test>
    <test>
        <testName>VERIFY-IFUP-IFDOW-ETH0-RMMOD-MODPROBE-HV_NETVSC-SRIOV</testName>
        <setupType>SingleVM</setupType>
        <OverrideVMSize>Standard_D13_v2</OverrideVMSize>
        <AdditionalHWConfig>
            <Networking>SRIOV</Networking>
        </AdditionalHWConfig>
        <TestParameters>
            <param>TestIterations=10</param>
        </TestParameters>
        <PowershellScript>VERIFY-TEST-SCRIPT-IN-LINUX-GUEST.ps1</PowershellScript>
        <testScript>verify-ifdown-ifup-eth0-rmmod-modprobe-hv-netvsc.sh</testScript>
        <files>.\Testscripts\Linux\verify-ifdown-ifup-eth0-rmmod-modprobe-hv-netvsc.sh,.\TestScripts\Linux\utils.sh</files>
        <Platform>Azure</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,hv_netvsc</Tags>
    </test>
    <test>
        <testName>VERIFY-IFUP-NICS-SRIOV</testName>
        <setupType>SingleVMMaxNetwork</setupType>
        <AdditionalHWConfig>
            <Networking>SRIOV</Networking>
        </AdditionalHWConfig>
        <TestParameters>
            <param>network_interface_count=8</param>
        </TestParameters>
        <PowershellScript>VERIFY-TEST-SCRIPT-IN-LINUX-GUEST.ps1</PowershellScript>
        <testScript>verify-ifup-nics.sh</testScript>
        <files>.\Testscripts\Linux\verify-ifup-nics.sh,.\TestScripts\Linux\utils.sh</files>
        <Platform>Azure</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>VERIFY-ENABLE-DISABLE-SRIOV-ON-EXISTING-VM</testName>
        <setupType>SingleVM</setupType>
        <OverrideVMSize>Standard_D3_v2</OverrideVMSize>
        <testScript>VERIFY-ENABLE-DISABLE-SRIOV-ON-EXISTING-VM.ps1</testScript>
        <files></files>
        <TestIterations>5</TestIterations>
        <Platform>Azure</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DISABLEVF-PING</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DISABLEVF-PING.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.10</param>
            <param>VF_IP2=10.0.0.30</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DISABLEVF-IPERF</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DISABLEVF-IPERF.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.11</param>
            <param>VF_IP2=10.0.0.31</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DETACH-NIC</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DETACH-NIC.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.12</param>
            <param>VF_IP2=10.0.0.32</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DISABLEVF-ONHOST</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DISABLEVF-ONHOST.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.13</param>
            <param>VF_IP2=10.0.0.33</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DISABLE-NIC</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DISABLE-NIC.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.14</param>
            <param>VF_IP2=10.0.0.34</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-DISABLE-VMQ</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-DISABLE-VMQ.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.15</param>
            <param>VF_IP2=10.0.0.35</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-CHANGE-RSS</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-CHANGE-RSS.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.16</param>
            <param>VF_IP2=10.0.0.36</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-MEASURE-VF-FAILBACK</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-MEASURE-VF-FAILBACK.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.17</param>
            <param>VF_IP2=10.0.0.37</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-REBOOT-VM</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-REBOOT-VM.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.18</param>
            <param>VF_IP2=10.0.0.38</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-MOVE-VHD</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-MOVE-VHD.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.19</param>
            <param>VF_IP2=10.0.0.39</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-STRESS-SAVE</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-STRESS-SAVE-PAUSE.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.20</param>
            <param>VF_IP2=10.0.0.40</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>VM_STATE=save</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-STRESS-PAUSE</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-STRESS-SAVE-PAUSE.ps1</testScript>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.21</param>
            <param>VF_IP2=10.0.0.41</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>VM_STATE=pause</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-MULTICAST</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-Multicast.sh</testScript>
        <files>.\Testscripts\Linux\SRIOV-Multicast.sh,.\Testscripts\Linux\SR-IOV-Utils.sh,.\Testscripts\Linux\utils.sh</files>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.22</param>
            <param>VF_IP2=10.0.0.42</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>
    <test>
        <testName>SRIOV-BROADCAST</testName>
        <setupScript>.\Testscripts\Windows\SETUP-SR-IOV-Configure.ps1</setupScript>
        <testScript>SRIOV-Broadcast.sh</testScript>
        <files>.\Testscripts\Linux\SRIOV-Broadcast.sh,.\Testscripts\Linux\SR-IOV-Utils.sh,.\Testscripts\Linux\utils.sh</files>
        <setupType>SRIOVVMs</setupType>
        <TestParameters>
            <param>NIC_COUNT=1</param>
            <param>VF_IP1=10.0.0.23</param>
            <param>VF_IP2=10.0.0.43</param>
            <param>NETMASK=255.255.255.0</param>
            <param>Switch_Name=SRIOV_MLNX</param>
            <param>SECRET_PARAMS=(VM2Name,CheckpointName)</param>
        </TestParameters>
        <Platform>HyperV</Platform>
        <Category>Functional</Category>
        <Area>SRIOV</Area>
        <Tags>sriov,network</Tags>
    </test>   
</TestCases>